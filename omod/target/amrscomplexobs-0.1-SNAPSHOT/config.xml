<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE module PUBLIC "-//OpenMRS//DTD OpenMRS Config 1.0//EN" "http://resources.openmrs.org/doctype/config-1.3.dtd">
<module configVersion="1.3">
	
	<!-- logic Module Properties -->
	<id>amrscomplexobs</id>
	<name>Amrscomplexobs Module</name>
	<version>0.1-SNAPSHOT</version>
	<package>org.openmrs.module</package>
	<author>Ampath Developers</author>
	<description>
			This module enable Amrscomplexobss to manage patients' amrscomplexobs information
	</description>
	<activator>org.openmrs.module.amrscomplexobs.AmrscomplexobsActivator</activator>
	<updateURL>https://dev.openmrs.org/modules/download/amrscomplexobs/update.rdf</updateURL>

	<!-- This module also works with the 1.6.x branch starting from 1.6.3.17711, but we can't release a
		 version like that to the repository, because it would auto-upgrade 1.7.0 and 1.7.1, and that
		 would break things. The following line can be commented out to build that special version -->
	<!-- <require_version>1.6.3.17711</require_version> -->
	<require_version>1.8.0</require_version>
	
	<!--<require_modules>
		<require_module>org.openmrs.module.household</require_module>
	</require_modules>-->
	    
	<extension>
        <point>org.openmrs.admin.list</point>
        <class>org.openmrs.module.amrscomplexobs.ext.AmrscomplexobsAdminExt</class>
    </extension>
	
    <extension>
        <point>org.openmrs.patientDashboardTab</point>
        <class>org.openmrs.module.amrscomplexobs.ext.AmrscomplexobsPatientDashboardTab</class>
    </extension>
    
    <!-- Privileges -->
    <privilege>
	    <name>Manage Amrscomplexobs</name>
	    <description>This is privilege for user who can save or delete or modify a amrscomplexobs information</description>
	</privilege>
	
	<privilege>
	    <name>View Amrscomplexobs</name>
	    <description>This is privilege for user who can view a amrscomplexobs information</description>
	</privilege>
    
    <!-- Global Properties -->
	<globalProperty>
	<property>amrscomplexobs.id</property>
		<defaultValue>0</defaultValue>
		<description>
			This value maps amrscomplexobs household id to household definition of the amrscomplexobs
		</description>
	</globalProperty>
<messages>
		<lang>en</lang>
		<file>messages.properties</file>
	</messages>
	<mappingFiles>
		Amrscomplexconcepthandler.hbm.xml
AmrsPersontypeConcept.hbm.xml
ComplexConceptFields.hbm.xml
AmrsPersonTypeFormFields.hbm.xml
AmrsPersontypeHandler.hbm.xml
AmrsPersonType.hbm.xml
AmrsPersontypeAttributes.hbm.xml
Amrscomplexobs.hbm.xml
AmrsPersonTypeFields.hbm.xml

	</mappingFiles>
	<!-- /logic Module Properties -->
    <advice>
        <point>org.openmrs.module.xforms.XformsService</point>
        <class>org.openmrs.module.amrscomplexobs.aop.ProcessObs</class>
    </advice>
    <advice>
        <point>org.openmrs.api.FormService</point>
        <class>org.openmrs.module.amrscomplexobs.aop.FormFieldSaveAdvice</class>
    </advice>

    <!-- DWR -->
    <dwr>
        <allow>
            <create creator="new" javascript="DWRAMRSComplexObsService">
                <param name="class" value="org.openmrs.module.amrscomplexobs.web.DWRAMRSComplexObsService"/>
                <include method="getPersonAttributes"/>
                <include method="saveFormFields"/>
                <include method="savePersonAttributes"/>
                <include method="saveNewPersonFields"/>

                <include method="saveAmrsPersontypeAttributes"/>
                <include method="saveAmrsPersontypeConcept"/>
                <include method="saveAmrsPersonType"/>
                <include method="saveAmrsPersontypeHandler"/>
                <include method="saveAmrscomplexconcepthandler"/>


            </create>
            <convert converter="bean" match="org.openmrs.module.amrscomplexobs.PersonAttributeType"/>


        </allow>

        <signatures>
            <![CDATA[
			import org.openmrs.module.amrscomplexobs.web.DWRAMRSComplexObsService;
				DWRAMRSComplexObsService.getPersonAttributes();
				DWRAMRSComplexObsService.saveFormFields(Integer fieldType,String conceptName,String tableName,String attributeName,String defaultValue,Boolean selectMultiple,String fieldName,String handlerName);
                DWRAMRSComplexObsService.savePersonAttributes(String attributeUuid,String personTypeUuid);
                DWRAMRSComplexObsService.saveNewPersonFields(String formOpeMRStag,String personTypeUuid);

                DWRAMRSComplexObsService.saveAmrsPersontypeAttributes(Integer persontypeid,Integer  openmrsattributeid);
                DWRAMRSComplexObsService.saveAmrsPersontypeConcept(  Integer  persontypeid,Integer conceptid);
                DWRAMRSComplexObsService.saveAmrsPersonType(String  persontypename,String  description);
                DWRAMRSComplexObsService.saveAmrsPersontypeHandler(String handleruuid, String personTypeUuid);
                 DWRAMRSComplexObsService.saveAmrscomplexconcepthandler(String  handlername);
			]]>
        </signatures>
    </dwr>


</module>